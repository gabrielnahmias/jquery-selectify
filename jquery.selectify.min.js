/*!
 * Selectify v1.0.0
 * http://github.com/terrasoftlabs/jquery-selectify
 *
 * Copyright Â© 2012 Gabriel Nahmias.
 * Free to use under the MIT license.
 * http://www.opensource.org/licenses/mit-license.php
 *
 */

(function(a){jQuery.fn.selectify=function(c){var b="selected",j="Selected.",f="Deselected.",e="Selectify";var h=this,k=a.browser.msie,p=false,q=document,o,s="selected";this.oSettings=a.extend({debug:false,pointer:true,target:null,title:"Click to select text",toggle:false},c);var d=this.oSettings.target;function l(){for(var t=0;t<arguments.length;t++){console.debug(arguments[t])}}function r(u){var t=u.length;return u.each(function(y,w){var B=u[y];var x=a(B);p=h.data(s);if(x.is("input")){if(h.oSettings.toggle){if(!p){if(h.oSettings.debug){if(k){console.log(j)}else{console.debug(j)}}h.data(s,true);x.select()}else{if(h.oSettings.debug){if(k){console.log(f)}else{console.debug(f)}}h.data(s,false);x.blur()}}else{if(h.oSettings.debug){if(k){console.log(j)}else{console.debug(j)}}h.data(s,true);x.select()}}else{if(q.body.createTextRange){var A=q.body.createTextRange(),z=q.selection;if(h.oSettings.toggle&&p){if(h.oSettings.debug){console.log(f)}h.data(s,false);z.empty()}else{if(h.oSettings.debug){console.log(j)}h.data(s,true);A.moveToElementText(B);A.select()}}else{if(window.getSelection){var C=q.createRange(),z=window.getSelection();if(h.oSettings.toggle&&p){if(h.oSettings.debug){if(k){console.log(f)}else{console.debug(f)}}h.data(s,false);z.removeRange(C)}else{if(h.oSettings.debug){if(k){console.log(j)}else{console.debug(j)}}h.data(s,true);C.selectNodeContents(B);z.removeAllRanges();z.addRange(C)}if(h.oSettings.debug){console.debug("Range object: ",C);console.debug("Selection object: ",z)}}}}})}if(a(d).length<=0&&typeof d!="undefined"&&d!=null){throw new Error(e+': Invalid target specified with selector "'+d+'" (attached to element selected by '+this.selector+").")}if(this.oSettings.debug){o="Element selectified:";if(k){console.log(o,this)}else{console.debug(o,a(this.selector))}if(typeof d!="undefined"&&d!=null){o="Its target is:";if(k){console.log(o,d)}else{console.debug(o,d)}}}if(this.oSettings.pointer){var m=this.children().length,n=this.oSettings.pointer,g="cursor",i="pointer";o="Changing cursor to pointer.";if(n=="all"||n==true){if(k){console.log(o)}else{console.debug(o)}this.css(g,i);o="Changing cursor to pointer for children:";if(k){console.log(o)}else{console.debug(o)}if(m>0){this.children().each(function(){o="Child: ";if(k){console.log(o,this)}else{console.debug(o,this)}a(this).css(g,i)})}}else{if(n=="parent"){if(k){console.log(o)}else{console.debug(o)}this.css(g,i);if(k){if(m>0){this.children().each(function(){o="Removing cursor for child (workaround for IE): ";console.log(o,this);a(this).css(g,"auto")})}}}else{}}}this.attr("title",function(){var t=a(this);if(!t.attr("title")){if(h.oSettings.debug){o="Adding title.";if(k){console.log(o)}else{console.debug(o)}}t.attr("title",h.oSettings.title)}}).blur(function(){h.data(s,false)}).click(function(u){var v=a(this);if(h.oSettings.debug){o="Clicked.";if(k){console.log(o)}else{console.debug(o)}}if(typeof d!="undefined"&&d!=null){var t=e.toLowerCase();v.attr("rel",d);var w=a(v.toggleClass(t+" "+b).attr("rel")).toggleClass(t+" target");r(w)}else{r(v)}})}})(jQuery);